#{
  #codeUrl: "https://gist.github.com/dapplebeforedawn/b4fd46bcbd0a07/raw/orderDeadMan.coffee",
  #description: "Order a default breakfast if I haven't responded in 5 minutes."
#}
https         = require "https"
vm            = require "vm"
remoteCoffee  = require "remote-coffee"
exports.load = (hotModule)->

  remoteCoffee hotModule.codeUrl, (moduleSourceCode)->

    hotCode = vm.createScript(moduleSourceCode, hotModule.codeUrl)
    context = vm.createContext
      Markmotron  : Markmotron
      Stackmotron : Stackmotron
      console     : console
      setTimeout  : setTimeout
      setInterval : setInterval
      clearTimeout: clearTimeout
      require     : require
      env         : process.env
    hotCode.runInContext context
    console.log "Running Script: ", hotModule.codeUrl
